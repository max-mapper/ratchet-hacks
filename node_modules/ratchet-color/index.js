var Color = require('color')
var colorConvert = require('color-convert')

module.exports = function calculateColorScheme(baseColor) {
  if (baseColor[0] !== "#") baseColor = "#" + baseColor
  var rgb = Color(baseColor).rgb()
  var baseHSL = colorConvert.rgb2hslRaw([rgb.r, rgb.g, rgb.b])
  var hslOffsets = [
    [2, 6, -5],   // bottom of header gradient    
    [4, 8, -13],   // bottom of button gradient    
    [10, 4, -33], // border color                 
    [3, 13, -14]   // :active button background    
  ]
  var scheme = hslOffsets.map(function(hsl) {
    var newHSL = {h: baseHSL[0] + hsl[0], s: baseHSL[1] + hsl[1], l: baseHSL[2] + hsl[2]}
    return Color(newHSL).hexString()
  })
  scheme.unshift(baseColor)
  return scheme
}
